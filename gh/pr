
gh pr list --state closed --limit 50 --json number,headRefName,state

gh search prs --state=open --owner=$user --limit 20  # Show all open PRs


# Delete branch of all closed prs
gh pr list --state merged --json headRefName --jq '.[].headRefName' |
while read branch; do
	echo "Deleting branch: $branch"
	gh api -X DELETE "repos/:owner/:repo/git/refs/heads/$branch" ||
		echo "$branch already deleted or protected" >&2
done
